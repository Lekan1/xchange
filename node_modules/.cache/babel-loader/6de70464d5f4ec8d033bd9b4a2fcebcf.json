{"ast":null,"code":"import _slicedToArray from\"C:/Users/HP/Documents/techprojects/react-currency-exchange-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import Flag from'react-flagkit';import{IconContext}from'react-icons';import{AiOutlineCaretDown}from'react-icons/ai';import DropdownList from'../DropdownList';import{CurrencyDropdown,DropdownContainer}from'./DropdownStyles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dropdown=function Dropdown(_ref){var currency=_ref.currency,setCurrency=_ref.setCurrency;var ref=useRef();var listRef=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var closeDropdown=function closeDropdown(el){console.log(el);setCurrency(el.cur);setShow(false);};useEffect(function(){var handleMouseClick=function handleMouseClick(e){var _listRef$current;if(show&&!(listRef===null||listRef===void 0?void 0:(_listRef$current=listRef.current)===null||_listRef$current===void 0?void 0:_listRef$current.contains(e.target))){setShow(false);}};window.addEventListener('click',handleMouseClick);return function(){window.removeEventListener('click',handleMouseClick);};},[show,ref]);useEffect(function(){if(show&&window.innerWidth<=960){document.body.style.overflowY='hidden';return;}document.body.style.overflowY='scroll';},[show]);return/*#__PURE__*/_jsxs(DropdownContainer,{children:[/*#__PURE__*/_jsxs(CurrencyDropdown,{ref:ref,onClick:function onClick(){return setShow(true);},children:[/*#__PURE__*/_jsx(Flag,{size:28,country:currency.slice(0,-1)}),/*#__PURE__*/_jsx(\"span\",{children:currency}),/*#__PURE__*/_jsx(IconContext.Provider,{value:{size:'1.3em',color:'#dfdfdf'},children:/*#__PURE__*/_jsx(AiOutlineCaretDown,{})})]}),/*#__PURE__*/_jsx(DropdownList,{listRef:listRef,setCurrency:setCurrency,show:show,closeDropdown:closeDropdown})]});};export default Dropdown;","map":{"version":3,"sources":["C:/Users/HP/Documents/techprojects/react-currency-exchange-website/src/components/Hero/Dropdown/Dropdown.js"],"names":["React","useState","useRef","useEffect","Flag","IconContext","AiOutlineCaretDown","DropdownList","CurrencyDropdown","DropdownContainer","Dropdown","currency","setCurrency","ref","listRef","show","setShow","closeDropdown","el","console","log","cur","handleMouseClick","e","current","contains","target","window","addEventListener","removeEventListener","innerWidth","document","body","style","overflowY","slice","size","color"],"mappings":"yLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,MAA1B,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,MAAOC,CAAAA,IAAP,KAAiB,eAAjB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,kBAAT,KAAmC,gBAAnC,CACA,MAAOC,CAAAA,YAAP,KAAyB,iBAAzB,CACA,OAASC,gBAAT,CAA2BC,iBAA3B,KAAoD,kBAApD,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAA+B,IAA5BC,CAAAA,QAA4B,MAA5BA,QAA4B,CAAlBC,WAAkB,MAAlBA,WAAkB,CAC/C,GAAMC,CAAAA,GAAG,CAAGX,MAAM,EAAlB,CACA,GAAMY,CAAAA,OAAO,CAAGZ,MAAM,EAAtB,CACA,cAAwBD,QAAQ,CAAC,KAAD,CAAhC,wCAAOc,IAAP,eAAaC,OAAb,eAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,EAAD,CAAQ,CAC7BC,OAAO,CAACC,GAAR,CAAYF,EAAZ,EACAN,WAAW,CAACM,EAAE,CAACG,GAAJ,CAAX,CACAL,OAAO,CAAC,KAAD,CAAP,CACA,CAJD,CAMAb,SAAS,CAAC,UAAM,CACf,GAAMmB,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,CAAD,CAAO,sBAC/B,GAAIR,IAAI,EAAI,EAACD,OAAD,SAACA,OAAD,mCAACA,OAAO,CAAEU,OAAV,2CAAC,iBAAkBC,QAAlB,CAA2BF,CAAC,CAACG,MAA7B,CAAD,CAAZ,CAAmD,CAClDV,OAAO,CAAC,KAAD,CAAP,CACA,CACD,CAJD,CAMAW,MAAM,CAACC,gBAAP,CAAwB,OAAxB,CAAiCN,gBAAjC,EAEA,MAAO,WAAM,CACZK,MAAM,CAACE,mBAAP,CAA2B,OAA3B,CAAoCP,gBAApC,EACA,CAFD,CAGA,CAZQ,CAYN,CAACP,IAAD,CAAOF,GAAP,CAZM,CAAT,CAcAV,SAAS,CAAC,UAAM,CACf,GAAIY,IAAI,EAAIY,MAAM,CAACG,UAAP,EAAqB,GAAjC,CAAsC,CACrCC,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,SAApB,CAAgC,QAAhC,CACA,OACA,CACDH,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,SAApB,CAAgC,QAAhC,CACA,CANQ,CAMN,CAACnB,IAAD,CANM,CAAT,CAQA,mBACC,MAAC,iBAAD,yBACC,MAAC,gBAAD,EAAkB,GAAG,CAAEF,GAAvB,CAA4B,OAAO,CAAE,yBAAMG,CAAAA,OAAO,CAAC,IAAD,CAAb,EAArC,wBACC,KAAC,IAAD,EAAM,IAAI,CAAE,EAAZ,CAAgB,OAAO,CAAEL,QAAQ,CAACwB,KAAT,CAAe,CAAf,CAAkB,CAAC,CAAnB,CAAzB,EADD,cAEC,sBAAOxB,QAAP,EAFD,cAGC,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAAEyB,IAAI,CAAE,OAAR,CAAiBC,KAAK,CAAE,SAAxB,CAA7B,uBACC,KAAC,kBAAD,IADD,EAHD,GADD,cAQC,KAAC,YAAD,EACC,OAAO,CAAEvB,OADV,CAEC,WAAW,CAAEF,WAFd,CAGC,IAAI,CAAEG,IAHP,CAIC,aAAa,CAAEE,aAJhB,EARD,GADD,CAiBA,CAlDD,CAoDA,cAAeP,CAAAA,QAAf","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport Flag from 'react-flagkit';\r\nimport { IconContext } from 'react-icons';\r\nimport { AiOutlineCaretDown } from 'react-icons/ai';\r\nimport DropdownList from '../DropdownList';\r\nimport { CurrencyDropdown, DropdownContainer } from './DropdownStyles';\r\n\r\nconst Dropdown = ({ currency, setCurrency }) => {\r\n\tconst ref = useRef();\r\n\tconst listRef = useRef();\r\n\tconst [show, setShow] = useState(false);\r\n\r\n\tconst closeDropdown = (el) => {\r\n\t\tconsole.log(el);\r\n\t\tsetCurrency(el.cur);\r\n\t\tsetShow(false);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handleMouseClick = (e) => {\r\n\t\t\tif (show && !listRef?.current?.contains(e.target)) {\r\n\t\t\t\tsetShow(false);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\twindow.addEventListener('click', handleMouseClick);\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('click', handleMouseClick);\r\n\t\t};\r\n\t}, [show, ref]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (show && window.innerWidth <= 960) {\r\n\t\t\tdocument.body.style.overflowY = 'hidden';\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdocument.body.style.overflowY = 'scroll';\r\n\t}, [show]);\r\n\r\n\treturn (\r\n\t\t<DropdownContainer>\r\n\t\t\t<CurrencyDropdown ref={ref} onClick={() => setShow(true)}>\r\n\t\t\t\t<Flag size={28} country={currency.slice(0, -1)} />\r\n\t\t\t\t<span>{currency}</span>\r\n\t\t\t\t<IconContext.Provider value={{ size: '1.3em', color: '#dfdfdf' }}>\r\n\t\t\t\t\t<AiOutlineCaretDown />\r\n\t\t\t\t</IconContext.Provider>\r\n\t\t\t</CurrencyDropdown>\r\n\t\t\t<DropdownList\r\n\t\t\t\tlistRef={listRef}\r\n\t\t\t\tsetCurrency={setCurrency}\r\n\t\t\t\tshow={show}\r\n\t\t\t\tcloseDropdown={closeDropdown}\r\n\t\t\t/>\r\n\t\t</DropdownContainer>\r\n\t);\r\n};\r\n\r\nexport default Dropdown;\r\n"]},"metadata":{},"sourceType":"module"}